(()=>{"use strict";var e;e=function(e,t){for(var r=["webgl","experimental-webgl","webkit-3d","moz-webgl"],n=null,o=0;o<r.length;++o){try{n=e.getContext(r[o],t)}catch(e){}if(n)break}return n};const t=function(t,r,n){n=n||function(e){var t=document.getElementsByTagName("body")[0];if(t){var r=window.WebGLRenderingContext?'It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org">Click here for more information.</a>':'This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>';e&&(r+="<br/><br/>Status: "+e),t.innerHTML=function(e){return'<div style="margin: auto; width:500px;z-index:10000;margin-top:20em;text-align:center;">'+e+"</div>"}(r)}},t.addEventListener&&t.addEventListener("webglcontextcreationerror",(function(e){n(e.statusMessage)}),!1);var o=e(t,r);return o||(window.WebGLRenderingContext,n("")),o};window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.clearTimeout);const r=function(){var e={enable:{0:!0},disable:{0:!0},getParameter:{0:!0},drawArrays:{0:!0},drawElements:{0:!0,2:!0},createShader:{0:!0},getShaderParameter:{1:!0},getProgramParameter:{1:!0},getVertexAttrib:{1:!0},vertexAttribPointer:{2:!0},bindTexture:{0:!0},activeTexture:{0:!0},getTexParameter:{0:!0,1:!0},texParameterf:{0:!0,1:!0},texParameteri:{0:!0,1:!0,2:!0},texImage2D:{0:!0,2:!0,6:!0,7:!0},texSubImage2D:{0:!0,6:!0,7:!0},copyTexImage2D:{0:!0,2:!0},copyTexSubImage2D:{0:!0},generateMipmap:{0:!0},bindBuffer:{0:!0},bufferData:{0:!0,2:!0},bufferSubData:{0:!0},getBufferParameter:{0:!0,1:!0},pixelStorei:{0:!0,1:!0},readPixels:{4:!0,5:!0},bindRenderbuffer:{0:!0},bindFramebuffer:{0:!0},checkFramebufferStatus:{0:!0},framebufferRenderbuffer:{0:!0,1:!0,2:!0},framebufferTexture2D:{0:!0,1:!0,2:!0},getFramebufferAttachmentParameter:{0:!0,1:!0,2:!0},getRenderbufferParameter:{0:!0,1:!0},renderbufferStorage:{0:!0,1:!0},clear:{0:!0},depthFunc:{0:!0},blendFunc:{0:!0,1:!0},blendFuncSeparate:{0:!0,1:!0,2:!0,3:!0},blendEquation:{0:!0},blendEquationSeparate:{0:!0,1:!0},stencilFunc:{0:!0},stencilFuncSeparate:{0:!0,1:!0},stencilMaskSeparate:{0:!0},stencilOp:{0:!0,1:!0,2:!0},stencilOpSeparate:{0:!0,1:!0,2:!0,3:!0},cullFace:{0:!0},frontFace:{0:!0}},t=null;function r(e){if(null==t)for(var r in t={},e)"number"==typeof e[r]&&(t[e[r]]=r)}function n(){if(null==t)throw"WebGLDebugUtils.init(ctx) not called"}function o(e){n();var r=t[e];return void 0!==r?r:"*UNKNOWN WebGL ENUM (0x"+e.toString(16)+")"}function a(t,r,n){var a=e[t];return void 0!==a&&a[r]?o(n):n.toString()}function i(e){var t=e.getParameter(e.MAX_VERTEX_ATTRIBS),r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r);for(var n=0;n<t;++n)e.disableVertexAttribArray(n),e.vertexAttribPointer(n,4,e.FLOAT,!1,0,0),e.vertexAttrib1f(n,0);e.deleteBuffer(r);var o=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);for(n=0;n<o;++n)e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_CUBE_MAP,null),e.bindTexture(e.TEXTURE_2D,null);for(e.activeTexture(e.TEXTURE0),e.useProgram(null),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.DITHER),e.disable(e.SCISSOR_TEST),e.blendColor(0,0,0,0),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.clearColor(0,0,0,0),e.clearDepth(1),e.clearStencil(-1),e.colorMask(!0,!0,!0,!0),e.cullFace(e.BACK),e.depthFunc(e.LESS),e.depthMask(!0),e.depthRange(0,1),e.frontFace(e.CCW),e.hint(e.GENERATE_MIPMAP_HINT,e.DONT_CARE),e.lineWidth(1),e.pixelStorei(e.PACK_ALIGNMENT,4),e.pixelStorei(e.UNPACK_ALIGNMENT,4),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.UNPACK_COLORSPACE_CONVERSION_WEBGL&&e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.BROWSER_DEFAULT_WEBGL),e.polygonOffset(0,0),e.sampleCoverage(1,!1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilMask(4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.viewport(0,0,e.canvas.clientWidth,e.canvas.clientHeight),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT);e.getError(););}return{init:r,mightBeEnum:function(e){return n(),void 0!==t[e]},glEnumToString:o,glFunctionArgToString:a,makeDebugContext:function(e,t){r(e),t=t||function(e,t,r){for(var n,i="",u=0;u<r.length;++u)i+=(0==u?"":", ")+a(t,u,r[u]);n="WebGL error "+o(e)+" in "+t+"("+i+")",window.console&&window.console.log&&window.console.log(n)};var n={};function i(e,r){return function(){var o=e[r].apply(e,arguments),a=e.getError();return 0!=a&&(n[a]=!0,t(a,r,arguments)),o}}var u={};for(var f in e)"function"==typeof e[f]?u[f]=i(e,f):u[f]=e[f];return u.getError=function(){for(var t in n)if(n[t])return n[t]=!1,t;return e.NO_ERROR},u},makeLostContextSimulatingContext:function(e){var t={},r=1,n=!1,o=[],a=void 0,u=void 0,f=void 0,l={};function c(e){for(var t=0;t<e.length;++t){var n=e[t];if((o=n)instanceof WebGLBuffer||o instanceof WebGLFramebuffer||o instanceof WebGLProgram||o instanceof WebGLRenderbuffer||o instanceof WebGLShader||o instanceof WebGLTexture)return n.__webglDebugContextLostId__==r}var o;return!0}function d(e,t){var r=e[t];return function(){if(!n){if(!c(arguments))return void(l[e.INVALID_OPERATION]=!0);var t=r.apply(e,arguments);return t}}}for(var g in e)"function"==typeof e[g]?t[g]=d(e,g):t[g]=e[g];function s(e){return{statusMessage:e}}t.loseContext=function(){if(!n){for(n=!0,++r;e.getError(););!function(){for(var e=Object.keys(l),t=0;t<e.length;++t)delete glErrorShdow_[e]}(),l[e.CONTEXT_LOST_WEBGL]=!0,setTimeout((function(){a&&a(s("context lost"))}),0)}},t.restoreContext=function(){if(n){if(!u)throw"You can not restore the context without a listener";setTimeout((function(){if(function(){for(var t=0;t<o.length;++t){var r=o[t];r instanceof WebGLBuffer?e.deleteBuffer(r):r instanceof WebctxFramebuffer?e.deleteFramebuffer(r):r instanceof WebctxProgram?e.deleteProgram(r):r instanceof WebctxRenderbuffer?e.deleteRenderbuffer(r):r instanceof WebctxShader?e.deleteShader(r):r instanceof WebctxTexture&&e.deleteTexture(r)}}(),i(e),n=!1,u){var t=u;u=f,f=void 0,t(s("context restored"))}}),0)}},t.getError=function(){if(!n)for(;t=e.getError();)l[t]=!0;for(var t in l)if(l[t])return delete l[t],t;return e.NO_ERROR};for(var m=["createBuffer","createFramebuffer","createProgram","createRenderbuffer","createShader","createTexture"],b=0;b<m.length;++b)t[F=m[b]]=function(t){return function(){if(n)return null;var a=t.apply(e,arguments);return a.__webglDebugContextLostId__=r,o.push(a),a}}(e[F]);var E=["getActiveAttrib","getActiveUniform","getBufferParameter","getContextAttributes","getAttachedShaders","getFramebufferAttachmentParameter","getParameter","getProgramParameter","getProgramInfoLog","getRenderbufferParameter","getShaderParameter","getShaderInfoLog","getShaderSource","getTexParameter","getUniform","getUniformLocation","getVertexAttrib"];for(b=0;b<E.length;++b)t[F=E[b]]=function(t){return function(){return n?null:t.apply(e,arguments)}}(t[F]);var A,h=["isBuffer","isEnabled","isFramebuffer","isProgram","isRenderbuffer","isShader","isTexture"];for(b=0;b<h.length;++b){var F;t[F=h[b]]=function(t){return function(){return!n&&t.apply(e,arguments)}}(t[F])}function v(e){return"function"==typeof e?e:function(t){e.handleEvent(t)}}return t.checkFramebufferStatus=(A=t.checkFramebufferStatus,function(){return n?e.FRAMEBUFFER_UNSUPPORTED:A.apply(e,arguments)}),t.getAttribLocation=function(t){return function(){return n?-1:t.apply(e,arguments)}}(t.getAttribLocation),t.getVertexAttribOffset=function(t){return function(){return n?0:t.apply(e,arguments)}}(t.getVertexAttribOffset),t.isContextLost=function(){return n},t.registerOnContextLostListener=function(e){a=v(e)},t.registerOnContextRestoredListener=function(e){n?f=v(e):u=v(e)},t},resetToInitialState:i}}();function n(e,t,r){var n=e.createShader(t);if(null==n)return console.log("unable to create shader"),null;if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)){var o=e.getShaderInfoLog(n);return console.log("Failed to compile shader: "+o),e.deleteShader(n),null}return n}var o,a;(a=document.getElementById("example"))?function(e){(o=function(e,n){var o=t(e);return o?((arguments.length<2||n)&&(o=r.makeDebugContext(o)),o):null}(e))?function(e,t){e.onmousedown=function(r){let o=r.clientX,a=r.clientY,i=r.target.getBoundingClientRect(),u=(o-i.left-e.height/2)/(e.height/2),f=(i.width/2-(a-i.top))/(e.width/2);console.log("djxc",r.target,o,a,i,[u,f]),function(e,t,r){if((a=function(e,t,r){var o=n(e,e.VERTEX_SHADER,t),a=n(e,e.FRAGMENT_SHADER,r);if(!o||!a)return null;var i=e.createProgram();if(!i)return null;if(e.attachShader(i,o),e.attachShader(i,a),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS)){var u=e.getProgramInfoLog(i);return console.log("Failed to link program: "+u),e.deleteProgram(i),e.deleteShader(a),e.deleteShader(o),null}return i}(o=e,"attribute vec4 a_Position;\nattribute float a_PointSize;\nvoid main(){\n gl_Position = a_Position;\n gl_PointSize = a_PointSize;\n}\n","precision mediump float;\nuniform vec4 u_FragColor;\nvoid main() {\n gl_FragColor = u_FragColor;\n}\n"))?(o.useProgram(a),o.program=a,1):(console.log("Failed to create program"),0)){var o,a,i=e.getAttribLocation(e.program,"a_Position"),u=e.getAttribLocation(e.program,"a_PointSize"),f=e.getUniformLocation(e.program,"u_FragColor");i<0||u<0?console.log("Failed to get the storage location of a_Position"):(e.vertexAttrib3f(i,t[0],t[1],t[2]),e.vertexAttrib1f(u,5),e.uniform4f(f,.2,.5,.6,.78),e.drawArrays(e.POINTS,0,1))}else console.log("Failed to initialize shaders")}(t,[u,f,0])}}(e,o):console.log("Failed to get the rendering context for WebGL")}(a):console.log("Failed to retrieve the <canvas> element")})();